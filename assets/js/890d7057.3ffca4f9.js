"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[999],{277:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var n=s(5893),i=s(1151);const a={sidebar_position:1,hide_table_of_contents:!1},r="MistralAI",l={id:"guides/ecosystem/mistral",title:"MistralAI",description:"Weave automatically tracks and logs LLM calls made via the MistralAI Python library, after weave.init() is called.",source:"@site/docs/guides/ecosystem/mistral.md",sourceDirName:"guides/ecosystem",slug:"/guides/ecosystem/mistral",permalink:"/weave/guides/ecosystem/mistral",draft:!1,unlisted:!1,editUrl:"https://github.com/wandb/weave/blob/master/docs/docs/guides/ecosystem/mistral.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,hide_table_of_contents:!1},sidebar:"documentationSidebar",previous:{title:"OpenAI",permalink:"/weave/guides/ecosystem/openai"},next:{title:"Tools",permalink:"/weave/guides/tools/"}},o={},c=[{value:"Setup",id:"setup",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"mistralai",children:"MistralAI"}),"\n",(0,n.jsxs)(t.p,{children:["Weave automatically tracks and logs LLM calls made via the ",(0,n.jsx)(t.a,{href:"https://github.com/mistralai/client-python",children:"MistralAI Python library"}),", after ",(0,n.jsx)(t.code,{children:"weave.init()"})," is called."]}),"\n",(0,n.jsx)(t.h2,{id:"setup",children:"Setup"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Install the MistralAI Python library:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"pip install mistralai weave\n"})}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Initialize Weave in your Python script:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:'import weave\nweave.init("cheese_recommender")\n'})}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["We patch the mistral ",(0,n.jsx)(t.code,{children:"chat_completion"})," method for you to keep track of your LLM calls."]})}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Use the MistralAI library as usual:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:'import os\nfrom mistralai.client import MistralClient\nfrom mistralai.models.chat_completion import ChatMessage\n\napi_key = os.environ["MISTRAL_API_KEY"]\nmodel = "mistral-large-latest"\n\nclient = MistralClient(api_key=api_key)\n\nmessages = [\n    ChatMessage(role="user", content="What is the best French cheese?")\n]\n\nchat_response = client.chat(\n    model=model,\n    messages=messages,\n)\n\nprint(chat_response.choices[0].message.content)\n'})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Weave will now track and log all LLM calls made through the MistralAI library. You can view the logs and insights in the Weave web interface."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://wandb.ai/capecape/mistralai_project/weave/calls",children:(0,n.jsx)(t.img,{alt:"mistral_trace.png",src:s(4587).Z+"",width:"3024",height:"1468"})})})]})}function h(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},4587:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/images/mistral_trace-194ff2078c712f2d46e00a93a4b1599c.png"},1151:(e,t,s)=>{s.d(t,{Z:()=>l,a:()=>r});var n=s(7294);const i={},a=n.createContext(i);function r(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);